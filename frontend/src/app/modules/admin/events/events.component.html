<div class="absolute inset-0 flex min-w-0 flex-col overflow-y-auto" cdkScrollable>
    <img class="h-64 w-full object-cover" src="images/backgrounds/back.svg" alt="Header image" />
    <!-- Main -->
    <div class="flex flex-auto p-6 sm:p-10">
        <div class="mx-auto flex w-full max-w-xs flex-auto flex-col sm:max-w-5xl">
            <!-- Filters -->
            <div class="flex w-full max-w-xs flex-col items-center justify-between sm:max-w-none sm:flex-row">
                <mat-form-field class="w-full sm:w-36" [subscriptSizing]="'dynamic'">
                    <mat-select [value]="'all'" (selectionChange)="filterByType($event)">
                        <mat-option [value]="'all'">Todos</mat-option>
                        @for (
                        type of types;
                        track trackByFn($index, type)
                        ) {
                        <mat-option [value]="type">{{type | EventTypeEnum}}</mat-option>
                        }
                    </mat-select>
                </mat-form-field>
                <mat-form-field class="mt-4 w-full sm:ml-4 sm:mt-0 sm:w-36" [subscriptSizing]="'dynamic'">
                    <mat-select [value]="'all'" (selectionChange)="filterByStatus($event)">
                        <mat-option [value]="'all'">Todos</mat-option>
                        @for (
                        st of statuses;
                        track trackByFn($index, st)
                        ) {
                        <mat-option [value]="st">{{st | Status}}</mat-option>
                        }
                    </mat-select>
                </mat-form-field>
                <mat-form-field class="mt-4 w-full sm:ml-4 sm:mt-0 sm:w-52" [subscriptSizing]="'dynamic'">
                    <input matInput [matDatepicker]="picker">
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
                <mat-form-field class="mt-4 w-full sm:ml-4 sm:mt-0 sm:w-72" [subscriptSizing]="'dynamic'">
                    <mat-icon matPrefix class="icon-size-5" [svgIcon]="'heroicons_solid:magnifying-glass'"></mat-icon>
                    <input (input)="filterByQuery(query.value)" placeholder="Nome do evento" matInput #query />
                </mat-form-field>
                <mat-slide-toggle class="mt-8 sm:ml-auto sm:mt-0" [color]="'primary'"
                    (change)="toggleCompleted($event)">
                    Hide completed
                </mat-slide-toggle>
            </div>
            <!-- Courses -->
            @if (this.filteredevents.length) {
            <div class="mt-8 grid grid-cols-1 gap-8 sm:mt-10 sm:grid-cols-2 lg:grid-cols-3">
                @for (event of filteredevents; track trackByFn($index, event)) {
                <!-- Course -->
                <div class="bg-card flex h-96 flex-col overflow-hidden rounded-2xl shadow">
                    <div class="flex flex-col p-6">
                        <div class="flex items-center justify-between">
                            <!-- Course category -->
                            <div class="rounded-full px-3 py-0.5 text-sm font-semibold" [ngClass]="{
                                                'bg-blue-100 text-blue-800 dark:bg-blue-500 dark:text-blue-50':
                                                    event.type === EventTypeEnum.Lecture,
                                                'bg-green-100 text-green-800 dark:bg-green-500 dark:text-green-50':
                                                    event.type === EventTypeEnum.Dynamic,
                                                'bg-pink-100 text-pink-800 dark:bg-pink-500 dark:text-pink-50':
                                                    event.type === EventTypeEnum.Practice
                                            }">
                                {{ event.type | EventTypeEnum }}
                            </div>

                        </div>
                        <div class="mt-4 text-lg font-medium">
                            {{ event.name }}
                        </div>
                        <div class="text-secondary mt-0.5 line-clamp-2">
                            {{ event.description }}
                        </div>
                        <div class="my-6 h-1 w-12 border-t-2"></div>

                        <!-- Course time -->
                        <div class="text-secondary flex items-center text-md leading-5">
                            <mat-icon class="text-hint icon-size-5" [svgIcon]="'heroicons_solid:clock'"></mat-icon>
                            <div class="ml-1.5">
                                {{ event.startDate | date:'HH:mm' }} - {{ event.endDate | date:'HH:mm' }}
                            </div>
                        </div>
                        <!-- Course time -->
                        <div class="text-secondary flex items-center text-md leading-5">
                            <mat-icon class="text-hint icon-size-5" [svgIcon]="'heroicons_solid:clock'"></mat-icon>
                            <div class="ml-1.5">
                                {{ event.eventDate | date:'dd/MM/yyyy' }}
                            </div>
                        </div>
                    </div>
                    <div class="mt-auto flex w-full flex-col">
                        <div class="bg-gray-50 px-6 py-4 text-right dark:bg-transparent">
                            <a mat-stroked-button [routerLink]="[event.id]">
                                <span class="inline-flex items-center">
                                    Saiba Mais
                                </span>
                            </a>
                        </div>
                    </div>
                </div>
                }
            </div>
            } @else {
            <div class="flex flex-auto flex-col items-center justify-center bg-gray-100 dark:bg-transparent">
                <mat-icon class="icon-size-24" [svgIcon]="'heroicons_outline:document-search'"></mat-icon>
                <div class="text-secondary mt-6 text-2xl font-semibold tracking-tight">
                    No courses found!
                </div>
            </div>
            }

            <!-- No courses -->
        </div>
    </div>
</div>
